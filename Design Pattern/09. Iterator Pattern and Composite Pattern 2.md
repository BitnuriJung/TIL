<br/>


# 컴포지트 패턴

<br/>

컴포지트 패턴 

- 부분 - 전체 계층구조를 가진 객체 컬렉션이 있을 때, 클라이언트에서 부분이든 전체든 전부 똑같은 방식으로 접근할 수 있게 하는 패턴
    - 똑같은 방식으로 접근한다 = 같은 메소드를 사용한다
        - 부분이나 전체에 해당하는 객체에서 필요 없거나 쓰면 안되는 메소드가 있는 경우?
            
            → 아무 일 안일어나게 하기 / false 리턴하기 / 예외 던지기 등등.. 
            
    - 구현 시 재귀적으로 내가 구현한 인터페이스를 내가 가지는 방식을 사용한다.
    - 장점
        - 클라이언트는 최상위 노드 하나만 가지면 된다.
        - 클라이언트는 누가 노드고 누가 잎인지 투명하게 알 수 있다.
        - 노드든 잎이든 똑같은 함수를 사용하면 되기 때문에 클라이언트가 너네가 각각 뭐하는 애들인지 알 필요가 없다.
- 트리 구조로 생긴 복잡한 계층구조를 구현해야 하는 경우에 사용한다
    - 트리구조?
        
        다른 모든 걸 포함하는 최상위 계층이 존재한다
        
        각각의 하위 계층은 리프만 포함할수도, 아니면 또다른 하위 계층을 가질수도 있는 유연성을 원한다
        
        단체도 관리해야 하고 각각도 관리하고 싶다 
        



## 컴포지트 패턴

<br/>

- 컴포지트 패턴은 왜 필요할까?



<br/>

- 오늘의 목표 
    > 
    

<br/>

- [이걸 몰랐다](#추가공부)  

    - :confused: 노드? 리프? 트리 구조?
    - :confused: 트리구조 데이터는 RDB에 어떻게 저장할 수 있을까?
    - :confused: 향상된 for 순환문



<br/>


- **오늘의 상황**
    ```
    여태까지)
        - 아침, 점심, 저녁 **동등한 레벨인 메뉴들이 추가됨**
        - 각각 별도의 컬렉션을 가지고 있어서 반복자 패턴으로 해결했음
    ``` 

     ```
    추가된 상황) 
    저녁메뉴에 속한 디저트 메뉴가 추가됨
        - 디저트 메뉴도 나머지 메뉴들처럼 메뉴 아이템을 가짐
        - 단, 저녁메뉴에 소속되어 있어야 함
    ``` 


<br/>

- 오늘의 UML은 


<br/>



## 느낀점

<br/>

- 이런 예시 없이 트리 자료구조만 따로 공부했으면 진짜 왜 이걸 만들었는지 이걸로 뭘 해결하는건지 1도 이해 안갔을 것이다....
- 반복자 패턴으로 변경하는 정도에서 멈출지, 컴포지트 패턴으로 리팩토링할지 ← 이런 타이밍을 고민하고 결정하는 것이 아키텍트로서 정말 중요한 역할이구나
    - 그리고 그때 자료구조나 패턴도 많이 알고 있어야 하고..!

- 이전 반복자 패턴에서는 클라이언트(웨이터 객체) 가 menuItem 의 함수들을 구체적으로 알았는데 (printMenu 함수 실행시), 이번에는 print 가 인터페이스화 되어 있어서 의존성이 많이 낮아진 것 같다

- 인터페이스에 구상 클래스에서 쓸 수도 있고 안 쓸수도 있는 함수를 만들고자 할 때 
    
    → 추상으로 만들순 없으니 UnSupportedOperationException 에러를 뱉게 만든다는 게 신선

    <br/>


# 추가공부

**향상된 for문**
- 자바에서 배열이나 컬렉션의 구성요소를 반복하기 위해 사용한다 
    ```java
        for(dataType item : array) {
            System.out.println(item)
            ...
        }
    ```
    - dataType : 배열이나 컬렉션의 데이터 타입
    - item : 배열이나 컬렉션 내부 각각의 아이템 (변수명이니 편하게 붙이면 된다)
    - array : 배열이나 컬렉션 
    - 일반 for문과 결과는 같고, 쓰거나 이해하기 더 쉽다 
    - **배열이나 컬렉션 내부 구성요소 수정은 불가능**

**트리구조**

**[트리구조 데이터를 RDB에 넣는 법](https://github.com/BitnuriJung/TIL/blob/42657972c28c0db1b9c041e30991ba10322a9aa3/ETC/Tree%20Structure%20Data%20in%20RDB.md)**
